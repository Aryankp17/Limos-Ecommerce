<%- include('./partials/header2') %>

<link rel="stylesheet" href="/public/stylesheets/create-product.css" />

<section class="right-section">
  <h1>Update Product</h1>
  <div class="vert-line"></div>
  <div class="product-details">
    <h2>Product details</h2>
    <form
      action="/product/update/<%= product._id %>"
      method="post"
      enctype="multipart/form-data"
    >
      <div class="file-upload">
        <h3>Product Image</h3>
        <% if (product.image) { %>
        <img
          src="data:image/jpeg;base64,<%= product.image.toString('base64') %>"
          alt="Current image"
          style="max-width: 200px; margin-bottom: 10px"
        />
        <% } %>

        <!-- choose new image -->
        <label for="file-upload" class="upload">
          Select
          <input
            name="image"
            id="file-upload"
            hidden
            type="file"
            accept="image/*"
          />
        </label>
      </div>

      <input
        type="text"
        name="name"
        placeholder="Product Name"
        value="<%= product.name%>"
      />
      <div class="price-section">
        <input
          type="number"
          name="price"
          placeholder="Product Price"
          value="<%= product.price %>"
        />
        <input
          type="number"
          name="discount"
          value="<%= product.discount %>"
          placeholder="Discount-price"
        />
      </div>
      <div class="panel-detail">
        <div class="back-color">
          <span>Background-Color :</span>
          <label for="background-color"
            >Select<input
              id="background-color"
              hidden
              type="color"
              value="<%= product.backgroundcolor %>"
              name="backgroundcolor"
          /></label>
        </div>
        <div class="panel-color">
          <span>Panel-Color :</span>
          <label for="panel-color"
            >Select<input
              id="panel-color"
              hidden
              type="color"
              value="<%= product.panelcolor  %>"
              name="panelcolor"
          /></label>
        </div>
        <div class="text-color">
          <span>Text-Color :</span>
          <label for="text-color"
            >Select<input
              id="text-color"
              hidden
              type="color"
              value="<%= product.textcolor %>"
              name="textcolor"
          /></label>
        </div>
      </div>
      <button type="submit">Update</button>
    </form>
  </div>
</section>

<%- include('./partials/footer') %>
